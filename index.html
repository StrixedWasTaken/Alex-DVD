<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Responsive DVD Logo Emulator</title>
<style>
  body {
    margin: 0;
    background: #000;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
    color: #eee;
    font-family: monospace, monospace;
  }
  canvas {
    background: #111;
    border: 3px solid #444;
    border-radius: 10px;
    max-width: 100vw;
    max-height: 90vh;
    display: block;
  }
  h1 {
    margin: 10px 0;
  }
</style>
</head>
<body>
  <h1>Responsive DVD Logo Emulator</h1>
  <canvas id="screen"></canvas>

<script>
  const canvas = document.getElementById('screen');
  const ctx = canvas.getContext('2d');

  const dvdLogo = new Image();
  dvdLogo.src = 'dvd_logo.png';

  const ASPECT_RATIO = 16 / 9; // Width:Height ratio for canvas

  let x, y, dx = 3, dy = 3;
  let logoWidth, logoHeight;

  function resizeCanvas() {
    let width = window.innerWidth * 0.9;
    let height = width / ASPECT_RATIO;

    if (height > window.innerHeight * 0.9) {
      height = window.innerHeight * 0.9;
      width = height * ASPECT_RATIO;
    }

    canvas.width = width;
    canvas.height = height;

    // Scale logo to 20% of canvas width
    logoWidth = width * 0.2;
    logoHeight = logoWidth * (dvdLogo.height / dvdLogo.width);

    // Keep logo inside bounds after resize
    x = Math.min(x || 0, canvas.width - logoWidth);
    y = Math.min(y || 0, canvas.height - logoHeight);
  }

  let celebrating = false;

  function celebrate() {
    if (celebrating) return;
    celebrating = true;

    // Flash the background for celebration
    let flashCount = 0;
    const maxFlashes = 6;
    const flashInterval = setInterval(() => {
      if (flashCount % 2 === 0) {
        canvas.style.backgroundColor = '#0f0';
      } else {
        canvas.style.backgroundColor = '#111';
      }
      flashCount++;
      if (flashCount > maxFlashes) {
        clearInterval(flashInterval);
        canvas.style.backgroundColor = '#111';
        celebrating = false;
      }
    }, 150);
  }

  function animate() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    x += dx;
    y += dy;

    let hitEdge = false;

    if (x + logoWidth >= canvas.width) {
      x = canvas.width - logoWidth;
      dx = -dx;
      hitEdge = true;
    } else if (x <= 0) {
      x = 0;
      dx = -dx;
      hitEdge = true;
    }

    if (y + logoHeight >= canvas.height) {
      y = canvas.height - logoHeight;
      dy = -dy;
      hitEdge = true;
    } else if (y <= 0) {
      y = 0;
      dy = -dy;
      hitEdge = true;
    }

    if (hitEdge) {
      celebrate();
    }

    ctx.drawImage(dvdLogo, x, y, logoWidth, logoHeight);

    requestAnimationFrame(animate);
  }

  window.addEventListener('resize', resizeCanvas);

  dvdLogo.onload = () => {
    resizeCanvas();
    // Start in a random position inside canvas
    x = Math.random() * (canvas.width - logoWidth);
    y = Math.random() * (canvas.height - logoHeight);
    animate();
  };
</script>
</body>
</html>